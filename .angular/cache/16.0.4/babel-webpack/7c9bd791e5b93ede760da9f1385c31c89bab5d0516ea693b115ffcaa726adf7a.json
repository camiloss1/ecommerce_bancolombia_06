{"ast":null,"code":"import * as i0 from \"@angular/core\";\nclass AuthInterceptor {\n  intercept(req, next) {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      //podriamos validar si se requiere un token si es asi generar uno nuevo.\n      return next.handle(req);\n    }\n    const headers = req.clone({\n      headers: req.headers.set('Authorization', `Bearer ${token}`)\n    });\n    console.log(req);\n    return next.handle(headers);\n  }\n}\nAuthInterceptor.ɵfac = function AuthInterceptor_Factory(t) {\n  return new (t || AuthInterceptor)();\n};\nAuthInterceptor.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthInterceptor,\n  factory: AuthInterceptor.ɵfac\n});\nexport { AuthInterceptor };","map":{"version":3,"names":["AuthInterceptor","intercept","req","next","token","localStorage","getItem","handle","headers","clone","set","console","log","factory","ɵfac"],"sources":["/Users/juansalazar/repos/Cedesistemas/ecommerce_bancolombia_06/src/app/infraestructure/driven-adapter/services/helpers/authinterceptor.ts"],"sourcesContent":["import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\n\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n      const token = localStorage.getItem('token');\n      if(!token){\n        //podriamos validar si se requiere un token si es asi generar uno nuevo.\n        return next.handle(req);\n      }\n      const headers = req.clone({\n        headers : req.headers.set('Authorization', `Bearer ${token}`)\n      });\n      console.log(req);\n      return next.handle(headers);\n    }\n}"],"mappings":";AAIA,MACaA,eAAe;EACxBC,SAASA,CAACC,GAAqB,EAAEC,IAAiB;IAChD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAG,CAACF,KAAK,EAAC;MACR;MACA,OAAOD,IAAI,CAACI,MAAM,CAACL,GAAG,CAAC;;IAEzB,MAAMM,OAAO,GAAGN,GAAG,CAACO,KAAK,CAAC;MACxBD,OAAO,EAAGN,GAAG,CAACM,OAAO,CAACE,GAAG,CAAC,eAAe,EAAE,UAAUN,KAAK,EAAE;KAC7D,CAAC;IACFO,OAAO,CAACC,GAAG,CAACV,GAAG,CAAC;IAChB,OAAOC,IAAI,CAACI,MAAM,CAACC,OAAO,CAAC;EAC7B;;AAZSR,eAAe,C;mBAAfA,eAAe;AAAA;AAAfA,eAAe,C;SAAfA,eAAe;EAAAa,OAAA,EAAfb,eAAe,CAAAc;AAAA;SAAfd,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}